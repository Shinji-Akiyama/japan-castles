# お城ページ作成指示書

## 概要
本指示書は、デジタル城下町プロジェクトのお城ページを作成する際の標準的な手順と要件を定めたものです。

## 1. 必須コンポーネント

### 1.1 デジタル城下町ウェイトリスト
- **配置場所**: 
  - 「[城名]について」セクションの下部
  - CTAセクション内
- **内容**:
  - デジタル城下町の説明
  - 登録特典の明記
  - メールフォーム（メールアドレス、名前（任意）、ニュースレター購読オプション）
  - note記事への誘導リンク

### 1.2 アプリダウンロードセクション
- **配置場所**: フッターの直前
- **内容**:
  - アプリの特徴（自動登城記録、200城網羅、ファンコミュニティ）
  - App Store/Google Playのダウンロードボタン
  - 公式SNSリンク（LINE、X、note）

### 1.3 免責事項
- **配置場所**: アプリダウンロードセクションの後、フッターの前
- **内容**: 情報の正確性に関する免責事項

### 1.4 フッター
- **著作権表記**: © デジタル城下町プロジェクト. All rights reserved.
- **リンク**: デジタル城下町プロジェクト（https://jkrs.jp）

## 2. 実装手順

### ステップ1: 基本ページの作成
1. 既存のお城ページテンプレートを使用
2. 城名、歴史、アクセス情報などの基本情報を入力

### ステップ2: デジタル城下町コンポーネントの追加
1. `/castles/templates/digital-jokamachi-components.html` からコンポーネントをコピー
2. 以下の置換を実行:
   - `[城名]` → 実際の城名（例：松前城）
   - `[castle_id]` → 英数字のID（例：matsumae）
   - `[都道府県]` → 都道府県名（例：北海道）
   - `[種別]` → 城の種別（例：日本100名城、続日本100名城、その他）
   - `[分類]` → 城の分類（例：平山城、山城、平城）
   - 相対パスの調整（必要に応じて）

### ステップ3: CSS/JavaScriptの統合
1. CSSを`<head>`内に追加
2. JavaScriptを`</body>`の前に追加

### ステップ4: フォームIDの調整
1. 複数のフォームがある場合、IDを一意にする
   - `waitlistForm1` → `waitlistForm1_[城名]`
   - `waitlistForm2` → `waitlistForm2_[城名]`

## 3. チェックリスト

### 必須項目
- [ ] ウェイトリストフォーム（2箇所）が設置されている
- [ ] アプリダウンロードセクションが設置されている
- [ ] SNSリンクが正しく設定されている
- [ ] 免責事項が記載されている
- [ ] フッターの著作権表記が正しい
- [ ] デジタル城下町プロジェクトへのリンクが設定されている

### デザイン・UI
- [ ] レスポンシブ対応が完了している
- [ ] フォームが正常に動作する
- [ ] ホバーエフェクトが適切に動作する

### SEO・アクセシビリティ
- [ ] 画像にalt属性が設定されている
- [ ] 外部リンクにrel="noopener noreferrer"が設定されている
- [ ] metaタグが適切に設定されている

## 4. 注意事項

1. **城名の置換**: 全ての`[城名]`を実際の城名に置換すること
2. **パスの調整**: 城の階層に応じて相対パスを調整すること
3. **公式情報の確認**: 各城の公式サイトへのリンクは最新のものを使用すること
4. **画像の最適化**: 画像は適切なサイズに圧縮すること

## 5. リソース

- **コンポーネントファイル**: `/castles/templates/digital-jokamachi-components.html`
- **参考実装**: `/castles/北海道/五稜郭/index.html`
- **デジタル城下町記事**: https://note.com/digitaljokers/n/n2a93cd7365e1
- **公式SNS**:
  - LINE: https://line.me/R/ti/p/@172rjlow
  - X: https://x.com/digitaljokers
  - note: https://note.com/digitaljokers

## 6. ウェイトリストシステムの設定

### Google Apps Scriptの設定
1. `templates/google-apps-script-waitlist.js` をGoogle Apps Scriptにコピー
2. `initializeSpreadsheet()` 関数を実行してスプレッドシートを作成
3. 生成された`SPREADSHEET_ID`をスクリプトに設定
4. ウェブアプリとして公開し、URLを取得
5. 各お城ページの`WAITLIST_ENDPOINT`を更新

### 収集されるデータ
- 基本情報：メール、名前、ニュースレター希望
- お城情報：城名、ID、都道府県、種別、分類
- メタデータ：登録日時、ソース、ページURL、ユーザーエージェント

## 7. 更新履歴

- 2024/01/XX: 初版作成
- 2024/01/XX: お城別ウェイトリスト機能追加
- 今後の更新はここに記載